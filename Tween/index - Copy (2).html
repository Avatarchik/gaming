
<html>
<head>
<style>
#dragonhead{
	position: absolute;
	top: 50px;
	left: 25px;
}
img[id^="dragonbody_"]{
	/*margin: 0 -8px;*/
	position: absolute;
	top: 50px;
	left: 25px;
}
#dragontail{
	position: absolute;
	top: 50px;
	left: 25px;
	/*margin-right: -10px;*/
}
/*#header{
	position: absolute;
	top: 250px;
	left: 250px;
}*/
</style>

<!--<script src="https://cdn.rawgit.com/sole/tween.js/master/build/tween.min.js"></script>
<script src="https://cdn.rawgit.com/sole/tween.js/master/examples/js/RequestAnimationFrame.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>-->

<script type="text/javascript" src="tween.min.js"></script>
<script src="RequestAnimationFrame.js"></script>
<script src="jquery.min.js"></script>
</head>
<!--<h3 id="header">Animate Me</h3>-->
<div id="canvas">
	<img id="dragontail" src="Dragon_tail.png">

	<img id="dragonhead" src="Dragon_head.png">
	<img id="dragonbody_1" src="dragon_body.png">
	<img id="dragonbody_2" src="dragon_body.png">
	<img id="dragonbody_3" src="dragon_body.png">
	<!--<img id="dragonbody_4" src="dragon_body.png">
	<img id="dragonbody_5" src="dragon_body.png">
	<img id="dragonbody_6" src="dragon_body.png">
	<img id="dragonbody_7" src="dragon_body.png">
	<img id="dragonbody_8" src="dragon_body.png">
	<img id="dragonbody_9" src="dragon_body.png">
	<img id="dragonbody_10" src="dragon_body.png">
	<img id="dragonbody_11" src="dragon_body.png">
	<img id="dragonbody_12" src="dragon_body.png">
	<img id="dragonbody_13" src="dragon_body.png">
	<img id="dragonbody_14" src="dragon_body.png">
	<img id="dragonbody_15" src="dragon_body.png">
	<img id="dragonbody_16" src="dragon_body.png">
	<img id="dragonbody_17" src="dragon_body.png">
	<img id="dragonbody_18" src="dragon_body.png">-->
	
</div>

<script>
var position, benpos;
var target, bentarget;
var headtween;
var tween;
var dragonCompleteObject, benposCompleteObject;
var benRight, benRightUp, benDown, benRightDown, benLeft, benUp;
var resolutionRatio;
var responseArray;
var initialLeftPosition, initialTopPosition;
var symbolHeight, symbolWidth, reelGap;
var previousReelId, previousSymbolId, nextReelId, nextSymbolId;
var dragonHead, dragonBody, dragonTail;

var dragonbody_1, dragonbody_2, dragonbody_3;




//responseArray = [['0'['0','1'], '1'['1','1']], ['1', '1'], ['2', '1'], [], []];

	//responseArray = [['0'['1'], '1'['1']],['0'['2'], '1'['2']],['0'[3], '1'[3]],['0'[4], '1'[2]],['0'[5], '1'[1]]];

// responseArray = { 
//     '0': { '0': 2, oranges: 4, bananas: 7, melons: 0 }, 
//     mary: { apples: 0, oranges: 10, bananas: 0, melons: 0 }, 
//     sarah: { apples: 0, oranges: 0, bananas: 0, melons: 5 } 
// }

//var responseArray = new array ['0'['1']];
	/*responseArray = [
		[
			"0" = "1",
			"1" = "1"
		],
		[
			"0" => "2",
			"1" => "2"
		],
		[
			"0" => "2",
			"1" => "3"
		],
		[
			"0" => "4",
			"1" => "2"
		],
		[
			"0" => "5",
			"1" => "1"
		]
	];*/


init(responseArray);
animate();


function init(responseArray){
	//position = {x: 250, y:250, rotation:0};

	//target = document.getElementById('header');

	/*
	headtween = new TWEEN.Tween(position)
			.to({x:250, y:250, rotation:360}, 1500)
			.delay(0).repeat(Infinity)
			.onUpdate(function(){update(target, position);});
	*/
	
	//setting some initial positions as per the resolution standard 1.33

//console.log(responseArray);

	initialLeftPosition = 48;
	initialTopPosition = 56;

	



	benpos = {x:initialLeftPosition, y:initialTopPosition, rotation:0};
	//var benpos_dragonbody_1 = {x:initialLeftPosition - 10, y:initialTopPosition - 10, rotation:0};
	//var benpos_dragonbody_2 = {x:initialLeftPosition - 20, y:initialTopPosition - 30, rotation:0};
	//var benpos_dragonbody_3 = {x:initialLeftPosition - 20, y:initialTopPosition - 40, rotation:0};
	
	//console.log('benpos', benpos);
	//console.log('benpos_dragonbody_1', benpos_dragonbody_1, benpos_dragonbody_2, benpos_dragonbody_3);

	//benposCompleteObject = [benpos, benpos_dragonbody_1];
	//console.log('benposCompleteObject', benposCompleteObject);




	bentarget = document.getElementById('dragonhead');
	dragonbody_1 = document.getElementById('dragonbody_1');
	dragonbody_2 = document.getElementById('dragonbody_2');
	dragonbody_3 = document.getElementById('dragonbody_3');


	dragonCompleteObject = [bentarget, dragonbody_1, dragonbody_2, dragonbody_3];
	//console.log(dragonCompleteObject);

	// for each (var resolutionRatio in dragonCompleteObject){
	// 	console.log('asdf', resolutionRatio);
	// }

	// for (i = 0; i < dragonCompleteObject.length; i++) { 
 //    	console.log('asdf', dragonCompleteObject[i]);
 //    	benRight = new TWEEN.Tween(benpos)
	// 			.to({x:350, y:56, rotation:0}, 1500)
	// 			.delay(1)
	// 			.easing(TWEEN.Easing.Quadratic.Out)
	// 			.onUpdate(function(){update(bentarget, benpos);});
	// }

		benRight = new TWEEN.Tween(benpos)
				.to({x:350, y:56, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){
					update(dragonCompleteObject, benpos);
				});

//console.log('rrr', bentarget);
//console.log('qqq', dragonCompleteObject['2']);


		// benRight2 = new TWEEN.Tween(benpos)
		// .to({x:350, y:56, rotation:0}, 1500)
		// .delay(1)
		// .easing(TWEEN.Easing.Quadratic.Out)
		// .onUpdate(function(){
		// 	update(dragonCompleteObject['2'], benpos);
		// });

	// benRight = new TWEEN.Tween(benpos)
	// 			.to({x:350, y:56, rotation:0}, 1500)
	// 			.delay(1)
	// 			.easing(TWEEN.Easing.Quadratic.Out)
	// 			.onUpdate(function(){update(bentarget, benpos);});

	benRightUp = new TWEEN.Tween(benpos)
			.to({x:550, y:-50, rotation:0}, 1500)
			.delay(1)
			.easing(TWEEN.Easing.Quadratic.Out)
			.onUpdate(function(){update(bentarget, benpos);});

	benDown = new TWEEN.Tween(benpos)
				.to({x:350, y:350, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});



	// benRightDown = new TWEEN.Tween(benpos)
	// 			.to({x:550, y:350, rotation:45}, 1500)
	// 			.delay(1)
	// 			.easing(TWEEN.Easing.Quadratic.Out)
	// 			.onUpdate(function(){update(bentarget, benpos);});

		benRightDown = new TWEEN.Tween(benpos)
				.to({x:550, y:350, rotation:45}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(dragonCompleteObject, benpos);});


	benLeft = new TWEEN.Tween(benpos)
				.to({x:25, y:350, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	benUp = new TWEEN.Tween(benpos)
				.to({x:25, y:50, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	//make the chain
	//benRight.chain(benDown);
	//benDown.chain(benLeft);
	//benLeft.chain(benUp);
	//benUp.chain(benRight);

	//headtween.start();

	benRight.chain(benRightDown);

	benRight.start();
	//benRight2.start();


}


function checkNextSymbolOnNextReel(previousReelId, previousSymbolId, nextReelId, nextSymbolId){
	if(previousReelId == nextReelId){
		//go straight
	}
		else if(previousReelId < nextReelId){
			//go down
		}
			else{
				//go up
			}
}


function animate(){
	requestAnimationFrame(animate);
	TWEEN.update();
}

function update(target, position){
	//console.log(target);
	for (i = 0; i < dragonCompleteObject.length; i++) { 
	//console.log('position', position[1]);
	var lessLeft = 0;
	if(i == 2){lessLeft = 10;}
	if(i == 3){lessLeft = 20;}
	if(i == 4){lessLeft = 30;}

	target[i].style.left = position.x-lessLeft + 'px';
	target[i].style.top = position.y + 'px';
	target[i].style.webkitTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)';
	target[i].style.MozTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)';
}
}


/***********************************************************************************
//code fully working

function init(){
	position = {x: 250, y:250, rotation:0};

	target = document.getElementById('header');

	headtween = new TWEEN.Tween(position)
			.to({x:250, y:250, rotation:360}, 1500)
			.delay(0).repeat(Infinity)
			.onUpdate(function(){update(target, position);});

	benpos = {x:25, y:50, rotation:0};
	bentarget = document.getElementById('dragonhead');

	benRight = new TWEEN.Tween(benpos)
				.to({x:350, y:50, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	benDown = new TWEEN.Tween(benpos)
				.to({x:350, y:350, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	benLeft = new TWEEN.Tween(benpos)
				.to({x:25, y:350, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	benUp = new TWEEN.Tween(benpos)
				.to({x:25, y:50, rotation:0}, 1500)
				.delay(1)
				.easing(TWEEN.Easing.Quadratic.Out)
				.onUpdate(function(){update(bentarget, benpos);});

	//make the chain
	benRight.chain(benDown);
	benDown.chain(benLeft);
	benLeft.chain(benUp);
	benUp.chain(benRight);

	headtween.start();
	benRight.start();


	//position = {x: 0, y:0, rotation:0};
	//target = document.getElementById('header');
	//tween = new TWEEN.Tween(position).to({x:250, y:250, rotation:0}, 1500).onUpdate(update);
	//tween.start();
	
}

function animate(){
	requestAnimationFrame(animate);
	TWEEN.update();
}

function update(target, position){
	target.style.left = position.x + 'px';
	target.style.top = position.y + 'px';
	target.style.webkitTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)';
	target.style.MozTransform = 'rotate(' + Math.floor(position.rotation) + 'deg)';
}
*****************************************************************************************/


</script>